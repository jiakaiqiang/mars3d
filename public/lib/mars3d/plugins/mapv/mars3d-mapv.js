/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.5.15
 * 编译日期：2023-07-11 17:33:29
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x486bca=_0x4cfb;function _0x4ad9(){const _0x1ca46d=['animatorMoveendEvent','Point','none','getHeight','_addedHook','525NfSyFm','pointerEvents','12941DkgPDL','isEnabledTime','camera','height','initAnimator','off','_mountedHook','scale','Polygon','fromDegrees','clickEvent','_pointerEvents','defineProperty','Rectangle','_data','animatorMovestartEvent','updateCallback','width','addAnimatorEvent','create','fillStyle','render','2733120oeErZO','mapvAutoHeight','932892rrMMMg','methods','update','_removedHook','_mapVRenderer','_cache_event','push','Cesium','isFormat','MapVLayer','keys','737600hBDhbA','ellipsoid','scene','_onMoveEndEvent','forEach','_onMapMouseMove','click','initDevicePixelRatio','_reset','trails','removeAllData','__esModule','Cartographic','style','removeChild','context','_setOptionsHook','_size','canvasLayer','get','devicePixelRatio','_onMapClick','stopAniamation','mapvDepthTest','options','save','_map','dataSet','windowPosition','__proto__','14MiDLVM','35250JUtgbd','1216494wKWFCy','clear','mousemove','10155024qqKvvr','set','canvas','destination-out','addData','EventType','mapvFixedHeight','ymax','Cartesian3','MultiLineString','mapv','animation','destroy','remove','getRectangle','isPointVisible','container','getContext'];_0x4ad9=function(){return _0x1ca46d;};return _0x4ad9();}function _0x4cfb(_0xb483b5,_0x4b8db0){const _0x4ad902=_0x4ad9();return _0x4cfb=function(_0x4cfbee,_0x27e6ab){_0x4cfbee=_0x4cfbee-0x17b;let _0x4abd3d=_0x4ad902[_0x4cfbee];return _0x4abd3d;},_0x4cfb(_0xb483b5,_0x4b8db0);}(function(_0x245148,_0x4f8edd){const _0x169e91={_0x556fc7:0x1cd,_0x545703:0x1af,_0x87701f:0x1b1,_0x4a9b91:0x1cb},_0x3c2e0a=_0x4cfb,_0x30582a=_0x245148();while(!![]){try{const _0x2d8089=parseInt(_0x3c2e0a(_0x169e91._0x556fc7))/0x1*(-parseInt(_0x3c2e0a(_0x169e91._0x545703))/0x2)+-parseInt(_0x3c2e0a(_0x169e91._0x87701f))/0x3+parseInt(_0x3c2e0a(0x186))/0x4+parseInt(_0x3c2e0a(0x191))/0x5+-parseInt(_0x3c2e0a(0x1b0))/0x6*(parseInt(_0x3c2e0a(_0x169e91._0x4a9b91))/0x7)+-parseInt(_0x3c2e0a(0x184))/0x8+parseInt(_0x3c2e0a(0x1b4))/0x9;if(_0x2d8089===_0x4f8edd)break;else _0x30582a['push'](_0x30582a['shift']());}catch(_0x46f7da){_0x30582a['push'](_0x30582a['shift']());}}}(_0x4ad9,0x38549));function _interopNamespace(_0x4730e8){const _0x1e623a={_0x4cdf6c:0x181},_0x538b5d=_0x4cfb;if(_0x4730e8&&_0x4730e8['__esModule'])return _0x4730e8;var _0x410eaf=Object[_0x538b5d(_0x1e623a._0x4cdf6c)](null);return _0x4730e8&&Object[_0x538b5d(0x190)](_0x4730e8)[_0x538b5d(0x195)](function(_0x57a5b6){const _0x4d671a=_0x538b5d;if(_0x57a5b6!=='default'){var _0x3db7ba=Object['getOwnPropertyDescriptor'](_0x4730e8,_0x57a5b6);Object['defineProperty'](_0x410eaf,_0x57a5b6,_0x3db7ba[_0x4d671a(0x1a4)]?_0x3db7ba:{'enumerable':!![],'get':function(){return _0x4730e8[_0x57a5b6];}});}}),_0x410eaf['default']=_0x4730e8,_0x410eaf;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x486bca(0x1ae)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x46519f,_0x8fb982,_0x5e3eec,_0x2ee0c1){const _0x14ff0b={_0x20c7dc:0x1bf},_0x4a1df3=_0x486bca;super(_0x46519f,_0x8fb982,_0x5e3eec);if(!BaseLayer$1)return;this['map']=_0x46519f,this[_0x4a1df3(0x193)]=_0x46519f['scene'],this['dataSet']=_0x8fb982,_0x5e3eec=_0x5e3eec||{},this['init'](_0x5e3eec),this['argCheck'](_0x5e3eec),this['initDevicePixelRatio'](),this['canvasLayer']=_0x2ee0c1,this[_0x4a1df3(0x1a7)]=!0x1,this[_0x4a1df3(_0x14ff0b._0x20c7dc)]=_0x5e3eec['animation'];}['initDevicePixelRatio'](){const _0x4ba5f8={_0x32b3bb:0x1a5},_0x4ffe9c=_0x486bca;this['devicePixelRatio']=window[_0x4ffe9c(_0x4ba5f8._0x32b3bb)]||0x1;}[_0x486bca(0x180)](){}[_0x486bca(0x17d)](){const _0x240e7b=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x240e7b['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}[_0x486bca(0x1c5)](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x3941f9){const _0x237a23={_0x4bde2e:0x1a9},_0x1c1cf7=_0x486bca;this[_0x1c1cf7(_0x237a23._0x4bde2e)]=_0x3941f9,this['initDataRange'](_0x3941f9),this['context']=this[_0x1c1cf7(_0x237a23._0x4bde2e)][_0x1c1cf7(0x1a0)]||'2d',this['options']['zIndex']&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this[_0x1c1cf7(0x1a9)]['zIndex']),this[_0x1c1cf7(0x1d1)]();}['_canvasUpdate'](_0x622943){const _0x3b38d1={_0x4aaf95:0x1a9,_0x4f1b94:0x1bf,_0x19a487:0x1ce,_0x6f06e1:0x1aa,_0x178a4f:0x1b7,_0x155760:0x1b6,_0x1ad909:0x1b6,_0x229edd:0x1a0,_0x19be56:0x1ac},_0x24b510={_0x1d16cd:0x19d,_0x289ab9:0x1d6,_0x40160d:0x1a8,_0x354ccd:0x1cf},_0x39b62b=_0x486bca,_0x4537cd=this['scene'];if(this[_0x39b62b(0x1a3)]&&!this['stopAniamation']){const _0x43fc9d=this[_0x39b62b(_0x3b38d1._0x4aaf95)][_0x39b62b(_0x3b38d1._0x4f1b94)],_0x2681fa=this['getContext']();if(this[_0x39b62b(_0x3b38d1._0x19a487)]()){if(void 0x0===_0x622943)return void this['clear'](_0x2681fa);this[_0x39b62b(0x1a0)]==='2d'&&(_0x2681fa[_0x39b62b(_0x3b38d1._0x6f06e1)](),_0x2681fa['globalCompositeOperation']=_0x39b62b(_0x3b38d1._0x178a4f),_0x2681fa[_0x39b62b(0x182)]='rgba(0,\x200,\x200,\x20.1)',_0x2681fa['fillRect'](0x0,0x0,_0x2681fa[_0x39b62b(_0x3b38d1._0x155760)][_0x39b62b(0x17f)],_0x2681fa[_0x39b62b(_0x3b38d1._0x1ad909)]['height']),_0x2681fa['restore']());}else this['clear'](_0x2681fa);if(this[_0x39b62b(_0x3b38d1._0x229edd)]==='2d')for(const _0x319e06 in this['options']){_0x2681fa[_0x319e06]=this['options'][_0x319e06];}else _0x2681fa['clear'](_0x2681fa['COLOR_BUFFER_BIT']);const _0xd94916={'transferCoordinate':function(_0x597687){const _0x210043=_0x39b62b,_0x29ea9e=null;let _0x423aab=_0x4537cd['mapvFixedHeight'];_0x4537cd['mapvAutoHeight']&&(_0x423aab=_0x4537cd['globe'][_0x210043(0x1c9)](Cesium$1[_0x210043(_0x24b510._0x1d16cd)]['fromDegrees'](_0x597687[0x0],_0x597687[0x1])));const _0x371bdb=Cesium$1['Cartesian3'][_0x210043(_0x24b510._0x289ab9)](_0x597687[0x0],_0x597687[0x1],_0x423aab);if(!_0x371bdb)return _0x29ea9e;const _0x4411ab=_0x4537cd['cartesianToCanvasCoordinates'](_0x371bdb);if(!_0x4411ab)return _0x29ea9e;if(_0x4537cd[_0x210043(_0x24b510._0x40160d)]&&_0x4537cd['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x1afddf=new Cesium$1['EllipsoidalOccluder'](_0x4537cd['globe'][_0x210043(0x192)],_0x4537cd[_0x210043(_0x24b510._0x354ccd)]['positionWC']),_0x3c7e34=_0x1afddf[_0x210043(0x1c3)](_0x371bdb);if(!_0x3c7e34)return _0x29ea9e;}return[_0x4411ab['x'],_0x4411ab['y']];}};void 0x0!==_0x622943&&(_0xd94916['filter']=function(_0x3eedc1){const _0x570cad=_0x39b62b,_0x228105=_0x43fc9d[_0x570cad(0x19a)]||0xa;return!!(_0x622943&&_0x3eedc1['time']>_0x622943-_0x228105&&_0x3eedc1['time']<_0x622943);});const _0x454a19=this[_0x39b62b(_0x3b38d1._0x19be56)]['get'](_0xd94916);this['processData'](_0x454a19),this['options']['unit']==='m'&&this[_0x39b62b(0x1a9)]['size'],this['options'][_0x39b62b(0x1a2)]=this['options']['size'];const _0x48635d=_0x4537cd['cartesianToCanvasCoordinates'](Cesium$1[_0x39b62b(0x1bc)]['fromDegrees'](0x0,0x0));if(!_0x48635d)return;this['drawContext'](_0x2681fa,new mapv__namespace['DataSet'](_0x454a19),this[_0x39b62b(0x1a9)],_0x48635d),this['options'][_0x39b62b(0x17e)]&&this[_0x39b62b(0x1a9)]['updateCallback'](_0x622943);}}['updateData'](_0x599912,_0x4928dd){const _0x5e6ecc={_0x4a499f:0x1b5},_0x10a83f=_0x486bca;let _0x419cd3=_0x599912;_0x419cd3&&_0x419cd3['get']&&(_0x419cd3=_0x419cd3['get']()),void 0x0!==_0x419cd3&&this['dataSet'][_0x10a83f(_0x5e6ecc._0x4a499f)](_0x419cd3),super['update']({'options':_0x4928dd});}['addData'](_0x3d2a86,_0x5d7729){const _0x12677d={_0x5df0a3:0x188},_0x53be0a=_0x486bca;let _0x396453=_0x3d2a86;_0x3d2a86&&_0x3d2a86['get']&&(_0x396453=_0x3d2a86['get']()),this['dataSet']['add'](_0x396453),this[_0x53be0a(_0x12677d._0x5df0a3)]({'options':_0x5d7729});}['getData'](){const _0x2cfd07=_0x486bca;return this[_0x2cfd07(0x1ac)];}['removeData'](_0x215d7c){const _0x5a7090={_0x4d3558:0x1ac},_0x1d6045=_0x486bca;if(this[_0x1d6045(_0x5a7090._0x4d3558)]){const _0x3c00ee=this['dataSet']['get']({'filter':function(_0x48ea6e){return _0x215d7c==null||typeof _0x215d7c!=='function'||!_0x215d7c(_0x48ea6e);}});this['dataSet']['set'](_0x3c00ee),this['update']({'options':null});}}['clearData'](){const _0x5c7fb3={_0x4b64c3:0x1b2},_0x1fd7eb=_0x486bca;this['dataSet']&&this['dataSet'][_0x1fd7eb(_0x5c7fb3._0x4b64c3)](),this['update']({'options':null});}['draw'](){const _0xff60bc=_0x486bca;this[_0xff60bc(0x1a3)]['draw']();}['clear'](_0x3b23c2){const _0x481512=_0x486bca;_0x3b23c2&&_0x3b23c2['clearRect']&&_0x3b23c2['clearRect'](0x0,0x0,_0x3b23c2['canvas']['width'],_0x3b23c2[_0x481512(0x1b6)]['height']);}['destroy'](){const _0x3382ee=_0x486bca;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this[_0x3382ee(0x1a3)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x229d8b,_0x2ebcdc,_0x4444ad,_0x47752a){const _0x3a106b={_0x3ef6d9:0x18c},_0x55fec5=_0x486bca;_0x47752a=_0x47752a||'_coordinates',_0x4444ad=_0x4444ad||'coordinates';for(let _0x487c00=0x0;_0x487c00<_0x229d8b['length'];_0x487c00++){const _0x208fdb=_0x229d8b[_0x487c00]['geometry'],_0x54b1a2=_0x208fdb[_0x4444ad];switch(_0x208fdb['type']){case _0x55fec5(0x1c7):{const _0x1099f1=_0x2ebcdc(_0x54b1a2);_0x1099f1?_0x208fdb[_0x47752a]=_0x1099f1:_0x208fdb[_0x47752a]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x37a256=[];for(let _0x594c7c=0x0;_0x594c7c<_0x54b1a2['length'];_0x594c7c++){const _0x1ec28d=_0x2ebcdc(_0x54b1a2[_0x594c7c]);_0x1ec28d&&_0x37a256[_0x55fec5(0x18c)](_0x1ec28d);}_0x208fdb[_0x47752a]=_0x37a256;}break;case _0x55fec5(0x1bd):case _0x55fec5(0x1d5):{const _0x56d5bc=_0x3ddb45(_0x54b1a2);_0x208fdb[_0x47752a]=_0x56d5bc;}break;case'MultiPolygon':{const _0x36aba4=[];for(let _0x588602=0x0;_0x588602<_0x54b1a2['length'];_0x588602++){const _0x55a4e8=_0x3ddb45(_0x54b1a2[_0x588602]);_0x55a4e8['length']>0x0&&_0x36aba4['push'](_0x55a4e8);}_0x208fdb[_0x47752a]=_0x36aba4;}break;}}function _0x3ddb45(_0x2a7997){const _0x76055b=_0x55fec5,_0x53bf8e=[];for(let _0x4410c9=0x0;_0x4410c9<_0x2a7997['length'];_0x4410c9++){const _0x5bf0ac=_0x2a7997[_0x4410c9],_0x695de9=[];for(let _0x54d318=0x0;_0x54d318<_0x5bf0ac['length'];_0x54d318++){const _0x4a18e2=_0x2ebcdc(_0x5bf0ac[_0x54d318]);_0x4a18e2&&_0x695de9[_0x76055b(_0x3a106b._0x3ef6d9)](_0x4a18e2);}_0x695de9['length']>0x0&&_0x53bf8e['push'](_0x695de9);}return _0x53bf8e;}return _0x229d8b;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x486bca(0x18d)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x5a5b13,_0x40ea88){const _0x3b05bd=_0x486bca;super(_0x5a5b13),this['_pointerEvents']=this['options'][_0x3b05bd(0x1cc)],this['dataSet']=_0x40ea88||new mapv__namespace['DataSet'](_0x5a5b13['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x22fd3c){const _0x16cef9={_0x171689:0x1cc},_0x303359=_0x486bca;this['_pointerEvents']=_0x22fd3c,this['canvas']&&(_0x22fd3c?this[_0x303359(0x1b6)]['style'][_0x303359(_0x16cef9._0x171689)]='all':this['canvas']['style']['pointerEvents']='none');}['_showHook'](_0x3cbab){const _0x2846c3={_0x4fb9fd:0x19e,_0x758418:0x1c8},_0x3cdc13=_0x486bca;_0x3cbab?this[_0x3cdc13(0x1b6)][_0x3cdc13(_0x2846c3._0x4fb9fd)]['display']='block':this[_0x3cdc13(0x1b6)]['style']['display']=_0x3cdc13(_0x2846c3._0x758418);}[_0x486bca(0x1d3)](){const _0x4b1304=_0x486bca;this[_0x4b1304(0x1ab)]['scene']['mapvDepthTest']=this[_0x4b1304(0x1a9)]['depthTest']??!![],this[_0x4b1304(0x1ab)]['scene'][_0x4b1304(0x185)]=this['options']['clampToGround']??![],this['_map']['scene'][_0x4b1304(0x1ba)]=this['options']['fixedHeight']??0x0;}[_0x486bca(0x1ca)](){const _0x2e94ac={_0x14ded0:0x1ac,_0xfccb23:0x17c,_0x35f4ab:0x1ab,_0x15b31a:0x198,_0xd8bfb:0x199},_0x2f60a9=_0x486bca;this[_0x2f60a9(_0x2e94ac._0x14ded0)]&&(!this['dataSet'][_0x2f60a9(_0x2e94ac._0xfccb23)]||this[_0x2f60a9(0x1ac)]['_data']['length']===0x0)&&(this['dataSet']['_data']=[]['concat'](this[_0x2f60a9(0x1ac)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x2f60a9(_0x2e94ac._0x35f4ab)],this['dataSet'],this['options'],this),this[_0x2f60a9(_0x2e94ac._0x15b31a)](),this['canvas']=this['_createCanvas'](),this['render']=this[_0x2f60a9(0x183)]['bind'](this),this['bindEvent'](),this[_0x2f60a9(_0x2e94ac._0xd8bfb)]();}[_0x486bca(0x189)](){const _0x225dcf={_0x3abe11:0x18a},_0x54b2d4=_0x486bca;this['unbindEvent'](),this[_0x54b2d4(_0x225dcf._0x3abe11)]&&(this['_mapVRenderer'][_0x54b2d4(0x1c0)](),this['_mapVRenderer']=null),this[_0x54b2d4(0x1b6)]['parentElement'][_0x54b2d4(0x19f)](this['canvas']);}['initDevicePixelRatio'](){const _0x50eeed=_0x486bca;this[_0x50eeed(0x1a5)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x298afa={_0x3f0b15:0x1ab,_0x48c21c:0x1a9},_0x18a91b=_0x486bca;var _0x457efb,_0x45eecf;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this[_0x18a91b(_0x298afa._0x3f0b15)]['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x18a91b(0x194)],this),(_0x457efb=this[_0x18a91b(_0x298afa._0x48c21c)])!==null&&_0x457efb!==void 0x0&&(_0x457efb=_0x457efb['methods'])!==null&&_0x457efb!==void 0x0&&_0x457efb['click']&&this[_0x18a91b(_0x298afa._0x3f0b15)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x45eecf=this[_0x18a91b(0x1a9)])!==null&&_0x45eecf!==void 0x0&&(_0x45eecf=_0x45eecf['methods'])!==null&&_0x45eecf!==void 0x0&&_0x45eecf[_0x18a91b(0x1b3)]&&this[_0x18a91b(0x1ab)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x32bfd1={_0x3d6a51:0x199,_0x2ed7ba:0x1b9,_0xa6f9b5:0x196},_0x5a2032=_0x486bca;var _0xf0b5ec,_0x3e6477;this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x5a2032(0x1ab)][_0x5a2032(0x1d2)](mars3d__namespace[_0x5a2032(0x1b9)]['postRender'],this[_0x5a2032(_0x32bfd1._0x3d6a51)],this),(_0xf0b5ec=this['options'])!==null&&_0xf0b5ec!==void 0x0&&(_0xf0b5ec=_0xf0b5ec['methods'])!==null&&_0xf0b5ec!==void 0x0&&_0xf0b5ec['click']&&this['_map']['off'](mars3d__namespace[_0x5a2032(_0x32bfd1._0x2ed7ba)][_0x5a2032(0x197)],this['_onMapClick'],this),(_0x3e6477=this['options'])!==null&&_0x3e6477!==void 0x0&&(_0x3e6477=_0x3e6477['methods'])!==null&&_0x3e6477!==void 0x0&&_0x3e6477['mousemove']&&this['_map']['off'](mars3d__namespace[_0x5a2032(0x1b9)]['mouseMove'],this[_0x5a2032(_0x32bfd1._0xa6f9b5)],this);}['_onMoveStartEvent'](){const _0x30eeb7={_0x5b0a30:0x199},_0x5b34c3=_0x486bca;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x5b34c3(_0x30eeb7._0x5b0a30)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0x5b34c3(0x199)],this));}[_0x486bca(0x194)](){const _0x228b36={_0x303745:0x18a},_0xd47282=_0x486bca;this[_0xd47282(0x18a)]&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0xd47282(_0x228b36._0x303745)][_0xd47282(0x1c6)](),this['_reset']());}[_0x486bca(0x1a1)](_0x50658a,_0x4c63aa){this['_removedHook'](),this['_addedHook']();}['addData'](_0x540f3c){const _0x546f1c={_0x5b2dbe:0x1b8,_0x334301:0x1a9},_0x2f3a56=_0x486bca;this[_0x2f3a56(0x18a)]&&this['_mapVRenderer'][_0x2f3a56(_0x546f1c._0x5b2dbe)](_0x540f3c,this[_0x2f3a56(_0x546f1c._0x334301)]);}['updateData'](_0x5ee7ed){const _0x1e8808={_0x8d15bf:0x18a},_0xa0dbbd=_0x486bca;this['_mapVRenderer']&&this[_0xa0dbbd(_0x1e8808._0x8d15bf)]['updateData'](_0x5ee7ed,this['options']);}['getData'](){const _0x344339={_0x583993:0x18a},_0x1fb5f3=_0x486bca;return this['_mapVRenderer']&&(this[_0x1fb5f3(0x1ac)]=this[_0x1fb5f3(_0x344339._0x583993)]['getData']()),this['dataSet'];}['removeData'](_0x12a741){const _0x2c6a61=_0x486bca;this['_mapVRenderer']&&this[_0x2c6a61(0x18a)]['removeData'](_0x12a741);}[_0x486bca(0x19b)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x49a529={_0x3fd060:0x181,_0x480c9c:0x1d0,_0x110f3e:0x1a0},_0x4d4692=_0x486bca,_0x4c52db=mars3d__namespace['DomUtil'][_0x4d4692(_0x49a529._0x3fd060)]('canvas','mars3d-mapv',this['_map'][_0x4d4692(0x1c4)]);_0x4c52db['id']=this['id'],_0x4c52db['style']['position']='absolute',_0x4c52db['style']['top']='0px',_0x4c52db['style']['left']='0px',_0x4c52db['width']=parseInt(this['_map']['canvas']['width']),_0x4c52db['height']=parseInt(this['_map']['canvas'][_0x4d4692(_0x49a529._0x480c9c)]),_0x4c52db[_0x4d4692(0x19e)]['width']=this['_map']['canvas']['style']['width'],_0x4c52db['style'][_0x4d4692(0x1d0)]=this['_map']['canvas']['style'][_0x4d4692(0x1d0)],_0x4c52db['style']['pointerEvents']=this[_0x4d4692(0x1d8)]?'auto':'none',_0x4c52db['style']['zIndex']=this['options']['zIndex']??0x9;if(this[_0x4d4692(0x1a9)][_0x4d4692(0x1a0)]==='2d'){const _0x5f2ce0=this[_0x4d4692(0x1a5)];_0x4c52db['getContext'](this['options'][_0x4d4692(_0x49a529._0x110f3e)])[_0x4d4692(0x1d4)](_0x5f2ce0,_0x5f2ce0);}return _0x4c52db;}['_reset'](){this['resize'](),this['render']();}['draw'](){this['_reset']();}[_0x486bca(0x1c1)](){const _0x528e7a=_0x486bca;this[_0x528e7a(0x18a)]&&(this['_mapVRenderer'][_0x528e7a(0x1c0)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x486bca(0x183)](){const _0x27ee14=_0x486bca;this[_0x27ee14(0x18a)]['_canvasUpdate']();}['resize'](){const _0x46cb36={_0x206901:0x19e},_0x2e7af9=_0x486bca;if(this['canvas']){const _0x39364e=this['canvas'];_0x39364e[_0x2e7af9(0x19e)]['position']='absolute',_0x39364e[_0x2e7af9(_0x46cb36._0x206901)]['top']='0px',_0x39364e['style']['left']='0px',_0x39364e['width']=parseInt(this[_0x2e7af9(0x1ab)]['canvas']['width']),_0x39364e['height']=parseInt(this[_0x2e7af9(0x1ab)][_0x2e7af9(0x1b6)][_0x2e7af9(0x1d0)]),_0x39364e[_0x2e7af9(_0x46cb36._0x206901)]['width']=this['_map']['canvas']['style']['width'],_0x39364e['style']['height']=this[_0x2e7af9(0x1ab)]['canvas']['style']['height'];}}[_0x486bca(0x1c2)](_0x120e11){const _0x4ac3bf={_0x19b7ad:0x17c,_0x539b67:0x18e,_0x20c66f:0x17b,_0x3b6afb:0x1bb},_0x34a878=_0x486bca;if(!this['dataSet']||!this['dataSet'][_0x34a878(0x17c)])return;const _0x3106a9=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0x34a878(_0x4ac3bf._0x19b7ad)]});if(!_0x3106a9)return;return _0x120e11!==null&&_0x120e11!==void 0x0&&_0x120e11[_0x34a878(_0x4ac3bf._0x539b67)]?_0x3106a9:Cesium[_0x34a878(_0x4ac3bf._0x20c66f)]['fromDegrees'](_0x3106a9['xmin'],_0x3106a9['ymin'],_0x3106a9['xmax'],_0x3106a9[_0x34a878(_0x4ac3bf._0x3b6afb)]);}['_onMapClick'](_0x3d8827){const _0x331836={_0x3cc89e:0x1d7},_0x513d39=_0x486bca;this['_cache_event']=_0x3d8827,this['_mapVRenderer']&&this['_mapVRenderer'][_0x513d39(_0x331836._0x3cc89e)](_0x3d8827[_0x513d39(0x1ad)],_0x3d8827);}['_onMapMouseMove'](_0x3bab30){const _0x469501={_0x1e2dda:0x18b},_0x55f762=_0x486bca;this[_0x55f762(_0x469501._0x1e2dda)]=_0x3bab30,this[_0x55f762(0x18a)]&&this[_0x55f762(0x18a)]['mousemoveEvent'](_0x3bab30['windowPosition'],_0x3bab30);}['on'](_0x391456,_0x376912,_0x1433ad){const _0x245ccd={_0x45b20c:0x1a9},_0x7c42c6=_0x486bca;this[_0x7c42c6(_0x245ccd._0x45b20c)]['methods']=this['options']['methods']||{};if(_0x391456===mars3d__namespace[_0x7c42c6(0x1b9)]['click'])this[_0x7c42c6(0x1a9)]['methods'][_0x7c42c6(0x197)]=_0x55b3b5=>{_0x55b3b5&&_0x376912['bind'](_0x1433ad)({...this['_cache_event'],'layer':this,'data':_0x55b3b5});},this[_0x7c42c6(0x1ab)]['on'](mars3d__namespace['EventType']['click'],this[_0x7c42c6(0x1a6)],this);else _0x391456===mars3d__namespace[_0x7c42c6(0x1b9)]['mouseMove']&&(this['options']['methods'][_0x7c42c6(0x1b3)]=_0x4a8edb=>{const _0xb3fc3a=_0x7c42c6;_0x4a8edb&&_0x376912['bind'](_0x1433ad)({...this[_0xb3fc3a(0x18b)],'layer':this,'data':_0x4a8edb});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x486bca(0x1d2)](_0x1a4e0e,_0xe59e03){const _0x2ef485={_0x1e8c7b:0x1a9,_0x1b28aa:0x187},_0x4149d2=_0x486bca;if(_0x1a4e0e==='click'){var _0x814b2f;this[_0x4149d2(0x1ab)][_0x4149d2(0x1d2)](_0x1a4e0e,this['_onMapClick'],this),(_0x814b2f=this['options']['methods'])!==null&&_0x814b2f!==void 0x0&&_0x814b2f['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x1a4e0e==='mouseMove'){var _0x54503b;this['_map']['off'](_0x1a4e0e,this['_onMapMouseMove'],this),(_0x54503b=this['options']['methods'])!==null&&_0x54503b!==void 0x0&&_0x54503b[_0x4149d2(0x1b3)]&&delete this[_0x4149d2(_0x2ef485._0x1e8c7b)][_0x4149d2(_0x2ef485._0x1b28aa)]['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register'](_0x486bca(0x1be),MapVLayer),mars3d__namespace['layer'][_0x486bca(0x18f)]=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x486bca(0x190)](mapv)['forEach'](function(_0x341106){if(_0x341106!=='default'&&!exports['hasOwnProperty'](_0x341106))Object['defineProperty'](exports,_0x341106,{'enumerable':!![],'get':function(){return mapv[_0x341106];}});}),Object[_0x486bca(0x1d9)](exports,_0x486bca(0x19c),{'value':!![]});
}));
